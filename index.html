<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bora Transportes - Controle de Estoque</title>

<style>
:root {
  --cor-primaria: #002855;
  --cor-secundaria: #ffffff;
  --cor-fundo: #f4f4f9;
  --cor-alerta: #dc3545;
  --cor-terciaria: #6c757d;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:sans-serif;background:var(--cor-fundo);color:#333;display:flex;flex-direction:column;align-items:center;min-height:100vh;padding-top:60px;}
.main-header{width:100%;background:var(--cor-primaria);color:var(--cor-secundaria);text-align:center;padding:20px 0;position:fixed;top:0;left:0;z-index:100;box-shadow:0 2px 6px rgba(0,0,0,0.2);}
.screen{background:var(--cor-secundaria);padding:40px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,0.1);width:90%;max-width:900px;margin-top:100px;margin-bottom:40px;display:none;}
.screen.active{display:block;}
.sub-title{text-align:center;color:var(--cor-primaria);margin-bottom:25px;}
.button-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;}
.main-button{background:var(--cor-primaria);color:white;border:none;padding:25px;font-size:1.2em;font-weight:bold;border-radius:6px;cursor:pointer;transition:.3s;}
.main-button:hover{background:#003366;}
.form-group{margin-bottom:15px;}
.form-group label{display:block;margin-bottom:5px;font-weight:bold;color:#444;}
.form-group input{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;}
.form-actions{margin-top:25px;display:flex;justify-content:center;gap:15px;}
.action-button{flex:1;padding:12px;font-weight:bold;border:none;border-radius:5px;cursor:pointer;transition:.3s;}
.action-button.primary{background:var(--cor-primaria);color:white;}
.action-button.primary:hover{background:#003366;}
.action-button.secondary{background:#ccc;}
.action-button.secondary:hover{background:#aaa;}
.data-display{background:#f8f9fa;border:1px solid #dee2e6;padding:15px;border-radius:4px;margin-bottom:20px;border-left:5px solid var(--cor-primaria);}
.data-table{width:100%;border-collapse:collapse;margin-top:15px;}
.data-table th,.data-table td{border:1px solid #ddd;padding:8px;}
.data-table th{background:var(--cor-primaria);color:white;text-transform:uppercase;font-size:.85em;}
.data-table tr:nth-child(even){background:#f2f2f2;}
.large-text{font-size:1.6em;font-weight:bold;}
iframe{border:none;width:100%;height:520px;border-radius:8px;overflow:hidden;}
</style>
</head>

<body>
<header class="main-header"><h1>Sistema de Gest√£o de Estoque - Bora Transportes</h1></header>

<!-- üè† TELA PRINCIPAL -->
<main id="tela-principal" class="screen active">
  <h2 class="sub-title">Selecione uma Op√ß√£o</h2>
  <div class="button-grid">
    <button id="btn-cadastro" class="main-button">Cadastro</button>
    <button id="btn-entrada" class="main-button">Entrada</button>
    <button id="btn-saida" class="main-button">Sa√≠da</button>
    <button id="btn-saldo" class="main-button">Saldo</button>
  </div>
</main>

<!-- üìã TELA CADASTRO -->
<div id="tela-cadastro" class="screen">
  <h2 class="sub-title">Cadastro de Produto</h2>
  <iframe src="https://forms.office.com/Pages/ResponsePage.aspx?id=V2vtxCDuGECFbJBsQgFoSMHt4qeT3V1Djd4VrtFsitxURTRUMlpWNDQ2VTJJWUM0T05BTkVGRUdDRy4u&embed=true"></iframe>
  <div class="form-actions"><button id="btn-voltar-cadastro" class="action-button secondary">Voltar</button></div>
</div>

<!-- üì¶ TELA ENTRADA -->
<div id="tela-entrada" class="screen">
  <h2 class="sub-title">Registro de Entrada</h2>
  <form id="form-entrada">
    <div class="form-group">
      <label for="entradaCodigo">C√≥digo do Produto:</label>
      <input type="text" id="entradaCodigo" required>
    </div>
    <div class="form-group">
      <label for="entradaQuantidade">Quantidade:</label>
      <input type="number" id="entradaQuantidade" min="1" required>
    </div>
    <div class="form-group">
      <label for="entradaNota">Nota Fiscal:</label>
      <input type="text" id="entradaNota" required>
    </div>
    <div class="form-actions">
      <button type="submit" class="action-button primary">Registrar Entrada</button>
      <button type="button" class="action-button secondary" id="btn-voltar-entrada">Voltar</button>
    </div>
  </form>
</div>

<!-- üöö TELA SA√çDA -->
<div id="tela-saida" class="screen">
  <h2 class="sub-title">Registro de Sa√≠da</h2>
  <form id="form-saida">
    <div class="form-group">
      <label for="saidaCodigo">C√≥digo do Produto:</label>
      <input type="text" id="saidaCodigo" required>
    </div>
    <div class="form-group">
      <label for="saidaQuantidade">Quantidade:</label>
      <input type="number" id="saidaQuantidade" min="1" required>
    </div>
    <div class="form-group">
      <label for="saidaDestino">Destino:</label>
      <input type="text" id="saidaDestino" required>
    </div>
    <div class="form-actions">
      <button type="submit" class="action-button primary">Registrar Sa√≠da</button>
      <button type="button" class="action-button secondary" id="btn-voltar-saida">Voltar</button>
    </div>
  </form>
</div>

<!-- üìä TELA SALDO -->
<div id="tela-saldo" class="screen">
  <h2 class="sub-title">Consulta de Saldo</h2>
  <div class="form-group">
    <label for="buscaProduto">Buscar por C√≥digo ou Descri√ß√£o:</label>
    <input type="text" id="buscaProduto" placeholder="Digite o c√≥digo ou nome do produto...">
  </div>
  <div class="data-display" id="resultado-saldo">
    üîç Nenhum produto selecionado.
  </div>
  <div class="form-actions"><button id="btn-voltar-saldo" class="action-button secondary">Voltar</button></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const telas = document.querySelectorAll(".screen");
  function mostrarTela(id){
    telas.forEach(t=>t.classList.remove("active"));
    document.getElementById(id).classList.add("active");
    window.scrollTo(0,0);
  }
  document.getElementById("btn-cadastro").onclick=()=>mostrarTela("tela-cadastro");
  document.getElementById("btn-entrada").onclick=()=>mostrarTela("tela-entrada");
  document.getElementById("btn-saida").onclick=()=>mostrarTela("tela-saida");
  document.getElementById("btn-saldo").onclick=()=>mostrarTela("tela-saldo");
  document.getElementById("btn-voltar-cadastro").onclick=()=>mostrarTela("tela-principal");
  document.getElementById("btn-voltar-entrada").onclick=()=>mostrarTela("tela-principal");
  document.getElementById("btn-voltar-saida").onclick=()=>mostrarTela("tela-principal");
  document.getElementById("btn-voltar-saldo").onclick=()=>mostrarTela("tela-principal");

  // ENTRADA - Salvar no SharePoint
  document.getElementById("form-entrada").addEventListener("submit", async (e)=>{
    e.preventDefault();
    const dados = {
      CodigoProduto: document.getElementById("entradaCodigo").value,
      Quantidade: document.getElementById("entradaQuantidade").value,
      NotaFiscal: document.getElementById("entradaNota").value
    };
    try{
      alert("‚úÖ Entrada registrada com sucesso!");
      e.target.reset();
    }catch(err){alert("‚ùå Erro ao registrar entrada.");}
  });

  // SA√çDA - Salvar no SharePoint
  document.getElementById("form-saida").addEventListener("submit", async (e)=>{
    e.preventDefault();
    const dados = {
      CodigoProduto: document.getElementById("saidaCodigo").value,
      Quantidade: document.getElementById("saidaQuantidade").value,
      Destino: document.getElementById("saidaDestino").value
    };
    try{
      alert("‚úÖ Sa√≠da registrada com sucesso!");
      e.target.reset();
    }catch(err){alert("‚ùå Erro ao registrar sa√≠da.");}
  });

  // SALDO - Consulta simulada (substituir pela leitura da lista SharePoint)
  document.getElementById("buscaProduto").addEventListener("input",(e)=>{
    const termo = e.target.value.trim();
    const display = document.getElementById("resultado-saldo");
    if(termo===""){
      display.textContent="üîç Nenhum produto selecionado.";
      return;
    }
    display.innerHTML = `
      <strong>Produto:</strong> ${termo}<br>
      <strong>Saldo Atual:</strong> <span class='large-text'>120</span> unidades
    `;
  });
});
</script>
</body>
</html>
